{"version":3,"sources":["src/environment.ts","src/models/appConfig.ts","src/services/storage-service.ts","src/services/token-service.ts","src/services/auth-service.ts","src/main.ts","src/models/key-value-pair-model.ts","src/models/session-model.ts","src/services/cookie-service.ts","src/resources/interceptors/authentication-interceptor.ts","src/services/http-service.ts","src/services/index.ts","src/shell/routes.ts","src/shell/shell.ts","src/models/user/user-info-basic-model.ts"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["export default {\r\n  debug: true,\r\n  testing: true\r\n};\r\n","import { inject } from \"aurelia-framework\";\r\nimport { AureliaConfiguration } from \"aurelia-configuration\";\r\n\r\n@inject(AureliaConfiguration)\r\nexport class AppConfig {\r\n    public clientId: string;\r\n    public authority: string;\r\n    public b2cScopes: string[];\r\n    public apiUrl: string;\r\n    public logiAppUrl: string;\r\n    public logiURL: string;\r\n    public WebURL: string;\r\n    public timeoutTime: number;\r\n    public warningTime: number;\r\n    public logiPingInterval: number;\r\n\r\n    constructor(attrs) {\r\n        if (attrs) {\r\n            Object.assign(this, attrs);\r\n        }\r\n    }\r\n}\r\n","export class StorageService {\r\n    private keyPrefix: string;\r\n    private storage: Storage;\r\n\r\n    constructor() {\r\n        this.keyPrefix = \"\";\r\n        this.storage = this.resolveStorage();\r\n    }\r\n    resolveStorage(): Storage {\r\n        return localStorage;\r\n    }\r\n    get(key: string): any {\r\n        let item = this.storage.getItem(`${this.keyPrefix}${key}`);\r\n        if (item === \"undefined\") {\r\n            return false;\r\n        }\r\n        return JSON.parse(item);\r\n    }\r\n    set(key: string, value: any): void {\r\n        let item = JSON.stringify(value);\r\n        this.storage.setItem(`${this.keyPrefix}${key}`, item);\r\n    }\r\n    clear(): void {\r\n        for (let i = 0; i < this.storage.length; i++) {\r\n            let key = this.storage.key(i);\r\n            if (key.startsWith(this.keyPrefix)) {\r\n                this.storage.removeItem(key);\r\n            }\r\n        }\r\n    }\r\n    insertIntoLocalStorage(key: string, value: string): void {\r\n        this.set(key, value);\r\n    }\r\n\r\n    insertMultiValuesIntoLocalStorage(keys: string[], values: string[]): void {\r\n        keys.forEach((key, index) => {\r\n            this.set(key, values[index]);\r\n        });\r\n    }\r\n\r\n    getValueFromLocalStorage(key: string): string {\r\n        return this.get(key);\r\n    }\r\n\r\n    getMultiValuesFromLocalStorage(keys: string[]): Object {\r\n        let returnObj = {};\r\n        keys.forEach(key => {\r\n            returnObj[key] = this.get(key);\r\n        });\r\n        return returnObj;\r\n    }\r\n\r\n    removeItemFromLocalStorage(key: string): void {\r\n        this.storage.removeItem(`${this.keyPrefix}${key}`);\r\n    }\r\n\r\n    removeMultiItemsFromLocalStorage(keys: string[]) {\r\n        keys.forEach(key => {\r\n            this.storage.removeItem(`${this.keyPrefix}${key}`);\r\n        });\r\n    }\r\n    clearLocalStorage(): void {\r\n        this.clear();\r\n    }\r\n\r\n    insertIntoSessionStorage(key: string, value: string): void {\r\n        this.set(key, value);\r\n    }\r\n\r\n    insertMultiValuesIntoSessionStorage(keys: string[], values: string[]): void {\r\n        keys.forEach((key, index) => {\r\n            this.set(key, values[index]);\r\n        });\r\n    }\r\n\r\n    getValueFromSessionStorage(key: string): string {\r\n        return this.get(key);\r\n    }\r\n\r\n    getMultiValuesFromSessionStorage(keys: string[]): Object {\r\n        let returnObj = {};\r\n        keys.forEach(key => {\r\n            returnObj[key] = this.get(key);\r\n        });\r\n        return returnObj;\r\n    }\r\n\r\n    removeItemFromSessionStorage(key: string): void {\r\n        this.storage.removeItem(`${this.keyPrefix}${key}`);\r\n    }\r\n\r\n    removeMultiItemsFromSessionStorage(keys: string[]) {\r\n        keys.forEach(key => {\r\n            this.storage.removeItem(`${this.keyPrefix}${key}`);\r\n        });\r\n    }\r\n\r\n    clearSessionStorage(): void {\r\n        this.clear();\r\n    }\r\n}\r\n","\r\n\r\nimport { autoinject } from \"aurelia-framework\";\r\nimport { AppConfig } from \"../models/appConfig\";\r\nimport { StorageService } from \"../services/storage-service\";\r\nimport { Router } from \"aurelia-router\";\r\nimport * as Msal from \"msal\";\r\n\r\n@autoinject\r\nexport class TokenService {\r\n\r\n    public currentADApplication;\r\n    public msalLogger;\r\n\r\n    constructor(\r\n        private appConfig: AppConfig,\r\n        private storageService: StorageService,\r\n        private router: Router,\r\n    ) {\r\n        this.msalLogger = new Msal.Logger(this.LoggerCallback.bind(this), { level: Msal.LogLevel.Verbose, correlationId:'12345' }); // level and correlationId are optional parameters.\r\n\r\n        this.currentADApplication = new Msal.UserAgentApplication(\r\n            this.appConfig.clientId,\r\n            this.appConfig.authority,\r\n            this.authCallback.bind(this),\r\n            {\r\n                logger: this.msalLogger,\r\n                cacheLocation: \"localStorage\",\r\n                redirectUri: this.appConfig.WebURL\r\n            });\r\n    }\r\n\r\n    authCallback(errorDesc, token, error, tokenType) {\r\n        if (token) {\r\n            console.log(`Token acquired: ${token}`);\r\n        } else {\r\n            this.currentADApplication.acquireTokenSilent(this.appConfig.b2cScopes).then(accessToken => {\r\n                return true;\r\n            }, (error) => {\r\n                this.currentADApplication.loginRedirect(this.appConfig.b2cScopes);\r\n            });\r\n        }\r\n    }\r\n\r\n    LoggerCallback(logLevel, message, piiLoggingEnabled) {\r\n        console.log(message);\r\n    }\r\n}\r\n","import { autoinject, Aurelia } from \"aurelia-framework\";\r\nimport { TokenService } from \"./token-service\";\r\nimport { AppConfig } from \"../models/appConfig\";\r\nimport { StorageService } from \"../services/storage-service\";\r\n\r\n\r\n@autoinject\r\nexport default class AuthService {\r\n\r\n    constructor(\r\n        private appConfig: AppConfig,\r\n        private aurelia: Aurelia,\r\n        private tokenService: TokenService,\r\n        private storage: StorageService,\r\n\r\n    ) {\r\n    }\r\n\r\n    isAuthenticated() {\r\n        let user = this.tokenService.currentADApplication.getUser();\r\n        return user !== null;\r\n    }\r\n\r\n    login() {\r\n        this.tokenService.currentADApplication.acquireTokenSilent(this.appConfig.b2cScopes).then(accessToken => {\r\n            this.storage.set(\"access_token\", accessToken);\r\n            return true;\r\n        }, (error) => {\r\n            this.tokenService.currentADApplication.acquireTokenRedirect(this.appConfig.b2cScopes);\r\n        });\r\n    }\r\n    logout() {\r\n        this.storage.clear();\r\n        this.tokenService.currentADApplication.logout();\r\n    }\r\n}\r\n","\r\nimport { Aurelia, LogManager } from \"aurelia-framework\";\r\nimport { ConsoleAppender } from \"aurelia-logging-console\";\r\nimport { HttpClient } from \"aurelia-http-client\";\r\nimport { AppConfig } from \"./models/appConfig\";\r\nimport environment from \"./environment\";\r\nimport AuthService from \"./services/auth-service\";\r\nimport { StorageService } from \"./services/storage-service\";\r\nimport { TokenService } from \"./services/token-service\";\r\n\r\n\r\n// Configure Bluebird Promises.\r\n// tslint:disable-next-line:whitespace\r\n(<any>Promise).config({\r\n    warnings: {\r\n        wForgottenReturn: false,\r\n    },\r\n    longStackTraces: false,\r\n});\r\n\r\nlet configureLogger = (moduleId) => {\r\n    let logger = LogManager.getLogger(moduleId);\r\n    LogManager.setLevel(LogManager.logLevel.info);\r\n    if (environment.debug) {\r\n        LogManager.setLevel(LogManager.logLevel.debug);\r\n        LogManager.addAppender(new ConsoleAppender());\r\n    }\r\n    return logger;\r\n};\r\n\r\nlet defaultClient = new HttpClient();\r\n\r\nlet appConfigResponse;\r\n\r\nlet logger = configureLogger(\"Main\");\r\n\r\nexport function configure(aurelia: Aurelia) {\r\n    logger.info(\"Configuring application\");\r\n    if (environment.testing) {\r\n        aurelia.use.plugin(\"aurelia-testing\");\r\n    }\r\n    let configureApis = async () => {\r\n        try {\r\n            let response = await defaultClient.get(\"scripts/appConfig.json\");\r\n            appConfigResponse = response.content;\r\n            aurelia.use.instance(AppConfig, appConfigResponse);\r\n        } catch (err) {\r\n            logger.error(err);\r\n            logger.info(\"Massive App Failure On Load\");\r\n        }\r\n    };\r\n\r\n    configureApis();\r\n\r\n    aurelia.use.standardConfiguration()\r\n\r\n    aurelia.start().then(() => {\r\n\r\n        let authService = aurelia.container.get(AuthService);\r\n\r\n        let userIsAuthenticated = authService.isAuthenticated();\r\n\r\n        if (userIsAuthenticated) {\r\n            aurelia.setRoot(\"shell/shell\");\r\n        } else {\r\n            logger.info(\"User is NOT authenticated.  Redirecting to Azure login.\");\r\n            authService.login();\r\n        }\r\n\r\n    });\r\n}\r\n","export class KeyValuePairModel {\r\n    public dataList;\r\n\r\n    mapJsonToModel(jsonObj) {\r\n        this.dataList = [];\r\n\r\n        for (let data of jsonObj) {\r\n            this.dataList.push(data);\r\n        }\r\n    }\r\n}\r\n","import { inject } from \"aurelia-framework\";\r\nimport { StorageService } from \"../services/storage-service\";\r\n\r\n@inject(StorageService)\r\nexport class SessionModel {\r\n    public accessToken: string;\r\n    public expiresIn: number;\r\n    public refreshToken: string;\r\n    public tokenType: string;\r\n    public email: string;\r\n    private storage: StorageService;\r\n\r\n    constructor(storage) {\r\n        this.storage = storage;\r\n    }\r\n    activateSession(accessToken: string, refreshToken: string, expiresIn: number = 300, tokenType: string = \"\", email?: string | null) {\r\n        this.accessToken = accessToken;\r\n        this.expiresIn = expiresIn;\r\n        this.refreshToken = refreshToken;\r\n        this.tokenType = tokenType;\r\n\r\n        this.storage.insertIntoSessionStorage(\"access_token\", this.accessToken);\r\n        this.storage.insertIntoSessionStorage(\"refresh_token\", this.refreshToken);\r\n\r\n        if (email) {\r\n            this.email = email;\r\n            this.storage.insertIntoSessionStorage(\"userEmail\", this.email);\r\n        }\r\n    }\r\n    getUpdatedSession(): SessionModel {\r\n        this.accessToken = this.storage.getValueFromSessionStorage(\"access_token\");\r\n        this.refreshToken = this.storage.getValueFromSessionStorage(\"refresh_token\");\r\n        return this;\r\n    }\r\n}\r\n","export class CookieService {\r\n\r\n    delete(name: string) {\r\n        let cookie = `${name} =;expires=Thu, 01 Jan 1970 00:00:01 GMT;`;\r\n        document.cookie = cookie;\r\n    }\r\n}\r\n","import { Interceptor, HttpResponseMessage, HttpRequestMessage, HttpClient } from \"aurelia-http-client\";\r\nimport { autoinject, Aurelia } from \"aurelia-framework\";\r\nimport { getLogger } from \"aurelia-logging\";\r\nimport { AppConfig } from \"../../models/appConfig\";\r\nimport { TokenService } from \"../../services/token-service\";\r\nimport { StorageService } from \"../../services/storage-service\";\r\nimport { CookieService } from \"../../services/cookie-service\";\r\n\r\nlet logger = getLogger(\"AuthorizationInterceptor\");\r\n\r\n@autoinject\r\nexport default class AuthorizationInterceptor implements Interceptor {\r\n    private reAuthAttempts = 0;\r\n    constructor(\r\n        private tokenService: TokenService,\r\n        private storageService: StorageService,\r\n        private cookieService: CookieService,\r\n        private appConfig: AppConfig,\r\n        private aurelia: Aurelia\r\n    ) {\r\n    }\r\n    async response(response: HttpResponseMessage) {\r\n        logger.debug(`Recieved ${response.statusText}`, response.headers, { response });\r\n        this.reAuthAttempts = 0;\r\n        return response;\r\n    }\r\n\r\n    async request(request: HttpRequestMessage) {\r\n        logger.debug(`Requesting ${request.method} ${request.url}`, { request });\r\n        return request;\r\n    }\r\n\r\n    async responseError(responseError: HttpResponseMessage): Promise<HttpResponseMessage> {\r\n        if (responseError.statusCode === 401 && this.reAuthAttempts < 2) {\r\n            this.reAuthAttempts++;\r\n            logger.debug(`Re-authentication attempt number: ${this.reAuthAttempts}`);\r\n            return await this.refreshToken(responseError);\r\n        } else {\r\n            logger.debug(\"Max reauthentication attempts reached.\");\r\n            this.reAuthAttempts = 0;\r\n            return responseError;\r\n        }\r\n    }\r\n\r\n    async refreshToken(responseError: HttpResponseMessage) {\r\n        try {\r\n            let accessToken = await this.tokenService.currentADApplication.acquireTokenSilent(this.appConfig.b2cScopes);\r\n            this.storageService.insertIntoSessionStorage(\"access_token\", accessToken);\r\n            responseError.requestMessage.headers.add(\"Authorization\", `Bearer ${accessToken}`);\r\n            return new HttpClient().send(responseError.requestMessage, []);\r\n        } catch (ex) {\r\n            logger.debug(\"Error during silent token request: \", ex);\r\n            this.dumpStorageAndReroute();\r\n        }\r\n    }\r\n\r\n    dumpStorageAndReroute() {\r\n        this.storageService.clearLocalStorage();\r\n        this.storageService.clearSessionStorage();\r\n        this.cookieService.delete(\"io\");\r\n        this.aurelia.setRoot(\"shell/shell\");\r\n    }\r\n}\r\n","import { HttpClient, HttpResponseMessage } from \"aurelia-http-client\";\r\nimport { autoinject } from \"aurelia-framework\";\r\nimport { AppConfig } from \"../models/appConfig\";\r\nimport { SessionModel as Session } from \"../models/session-model\";\r\nimport { TokenService } from \"../services/token-service\";\r\nimport { StorageService } from \"../services/storage-service\";\r\nimport AuthorizationInterceptor from \"../resources/interceptors/authentication-interceptor\";\r\n\r\n@autoinject\r\nexport class Client {\r\n    private accessToken: string;\r\n    constructor(\r\n        private httpClient: HttpClient,\r\n        private appConfig: AppConfig,\r\n        private session: Session,\r\n        private authorizationInterceptor: AuthorizationInterceptor,\r\n        private tokenService: TokenService,\r\n        private storageService: StorageService\r\n    ) {\r\n        this.httpClient.configure(config => {\r\n            config.withBaseUrl(this.appConfig.apiUrl);\r\n            config.withHeader(\"Content-Type\", \"application/json\");\r\n            config.withInterceptor(authorizationInterceptor);\r\n        });\r\n    }\r\n\r\n    async get(url, params?): Promise<HttpResponseMessage> {\r\n        return this.buildClient().get(url);\r\n    }\r\n    async patch(url: string, content: any): Promise<HttpResponseMessage> {\r\n        return this.buildClient().patch(url, content);\r\n    }\r\n    async post(url: string, content: any): Promise<HttpResponseMessage> {\r\n        return this.buildClient().post(url, content);\r\n    }\r\n    async put(url: string, content: any): Promise<HttpResponseMessage> {\r\n        return this.buildClient().put(url, content);\r\n    }\r\n    async delete(url: string): Promise<HttpResponseMessage> {\r\n        return this.buildClient().delete(url);\r\n    }\r\n\r\n    private buildClient(): HttpClient {\r\n        let accessToken = this.storageService.get(\"access_token\");\r\n        let client = this.httpClient.configure(config => {\r\n            config.withHeader(\"Authorization\", `Bearer ${accessToken}`);\r\n        });\r\n        return client;\r\n    }\r\n\r\n}\r\n","\r\nimport AuthService from \"./auth-service\";\r\nimport { Client } from \"./http-service\";\r\nimport { StorageService } from \"./storage-service\";\r\n\r\nexport {\r\n    AuthService,\r\n    Client,\r\n    StorageService,\r\n};\r\n","import { activationStrategy } from \"aurelia-router\";\r\n\r\nexport default [\r\n    {\r\n        route: \"\",\r\n        moduleId: \"home/home\",\r\n        name: \"Home\",\r\n        title: \"Home\",\r\n        nav: true,\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        auth: true,\r\n        settings: { permission: \"Reporting\", home: true, embededIframe: true },\r\n    },\r\n    {\r\n        route: \"projects\",\r\n        moduleId: \"../projects/list\",\r\n        name: \"Projects\",\r\n        title: \"Projects\",\r\n        nav: true,\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        auth: true,\r\n        settings: { permission: \"Project\" },\r\n    },\r\n    {\r\n        route: \"projects/add\",\r\n        moduleId: \"../projects/add-edit-project\",\r\n        name: \"Add Project\",\r\n        title: \"Add Project\",\r\n        nav: false,\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        auth: true,\r\n        settings: { permission: \"Project\" },\r\n    },\r\n    {\r\n        route: \"projects/edit/:projectId\",\r\n        moduleId: \"../projects/add-edit-project\",\r\n        name: \"Edit Project\",\r\n        title: \"Edit Project\",\r\n        nav: false,\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        auth: true,\r\n        settings: { permission: \"Project\" },\r\n    },\r\n    {\r\n        route: [\"facility\", \"facility/:facilityId\"],\r\n        moduleId: \"../facilities/facility\",\r\n        name: \"Facility\",\r\n        title: \"Facilities\",\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        auth: true,\r\n        settings: { permission: \"Facility\" },\r\n    },\r\n    {\r\n        route: \"admin\",\r\n        moduleId: \"../admin/admin\",\r\n        name: \"AdminModule\",\r\n        title: \"Admin\",\r\n        nav: true,\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        auth: true,\r\n        settings: { dropdown: true, permission: [\"Account\", \"Facility\", \"Users\"] },\r\n    },\r\n    {\r\n        route: \"support\",\r\n        moduleId: \"../support/support\",\r\n        name: \"Support\",\r\n        title: \"Support\",\r\n        nav: true,\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        auth: true,\r\n        settings: { dropdown: true, support: true , permission: \"\",\r\n          nav: [\r\n            {href: \"#rolePermissions\", title: \"Permissions\", name: \"Support\"},\r\n          ],\r\n      },\r\n    },\r\n    {\r\n        route: \"rolePermissions\",\r\n        moduleId: \"../role-permissions/role-permissions\",\r\n        name: \"Permissions\",\r\n        title: \"Permissions\",\r\n        nav: false,\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        auth: true,\r\n        settings: { permission: \"Support\" },\r\n     },\r\n    {\r\n        route: \"facilityPDF/:facilityId\",\r\n        moduleId: \"../export/facilityPDF\",\r\n        name: \"FacilityDetailsPDF\",\r\n        title: \"FacilitiesPDF\",\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        auth: true,\r\n        settings: { dropdown: true, support: true, permission: [] },\r\n    },\r\n    {\r\n        route: \"access-denied\",\r\n        moduleId: \"../misc/access-denied\",\r\n        name: \"AccessDenied\",\r\n        title: \"Access Denied\",\r\n        nav: false,\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        settings: { permission: [] },\r\n    },\r\n    {\r\n        route: \"knowledge-center\",\r\n        moduleId: \"../knowledge-center/knowledge-center\",\r\n        name: \"KnowledgeCenter\",\r\n        title: \"Knowlege Center\",\r\n        nav: false,\r\n        activationStrategy: activationStrategy.invokeLifecycle,\r\n        settings: { embededIframe: true },\r\n    },\r\n];\r\n","import { NavigationInstruction, Next, Redirect, Router } from \"aurelia-router\";\r\nimport { Logger } from \"aurelia-logging\";\r\nimport AuthService from \"../services/auth-service\";\r\nimport {autoinject} from \"aurelia-framework\";\r\nimport routes from \"./routes\";\r\n\r\n\r\ndeclare var window: any;\r\n@autoinject\r\nexport class Shell {\r\n\r\n    private user;\r\n\r\n    constructor(\r\n        private logger: Logger,\r\n        private authService: AuthService,\r\n        private router: Router,\r\n    ) {\r\n        this.logger.id = \"Shell\";\r\n    }\r\n\r\n    configureRouter(config, router) {\r\n        let self = this;\r\n        let appNavStep = {\r\n            run(navigation: NavigationInstruction, next: Next): Promise<any> {\r\n                self.logger.debug(`${navigation.fragment}`, { navigation });\r\n                return next();\r\n            },\r\n        };\r\n        let postAuthRedirect = {\r\n            run(navigation: NavigationInstruction, next: Next): Promise<any> {\r\n                return next();\r\n            },\r\n        };\r\n        let authStep = {\r\n            async run(navigation: NavigationInstruction, next: Next): Promise<any> {\r\n                if (navigation.getAllInstructions().some((i) => i.config.auth)) {\r\n                    if (!self.authService.isAuthenticated()) {\r\n                        return next.cancel(self.authService.login());\r\n                    } else {\r\n                        // Load User Info\r\n                    }\r\n\r\n                }\r\n                return next();\r\n            },\r\n        };\r\n\r\n        config.addAuthorizeStep(authStep);\r\n        config.addPreActivateStep(postAuthRedirect);\r\n        config.addPreRenderStep(appNavStep);\r\n        config.options.root = \"/\";\r\n        config.mapUnknownRoutes({ redirect: \"/\" });\r\n        this.router = router;\r\n        config.map(routes);\r\n    }\r\n\r\n    attached() {\r\n\r\n    }\r\n\r\n    logout() {\r\n        this.authService.logout();\r\n    }\r\n\r\n    preventLinkNavigation(e) {\r\n        e.preventDefault();\r\n    }\r\n\r\n    login() {\r\n        this.logger.info(`Login Called`);\r\n        this.authService.login();\r\n    }\r\n\r\n    reloadRoute(route) {\r\n        this.router.navigate(route.config.title);\r\n    }\r\n}\r\n","export class UserInfoBasicModel {\r\n\r\n    public userId: number;\r\n    public firstName: string;\r\n    public lastName: string;\r\n    public displayName: string;\r\n    public emailAddress: string;\r\n    public phoneNumber: string;\r\n    public isActive: boolean;\r\n    public isChecked: boolean;\r\n    public userName: string;\r\n    public jobTitle: string;\r\n    public userRole: string;\r\n\r\n    mapJsonToModel(jsonObj) {\r\n        this.userId = jsonObj.UserId;\r\n        this.firstName = jsonObj.FirstName;\r\n        this.lastName = jsonObj.LastName;\r\n        this.displayName = jsonObj.DisplayName;\r\n        this.emailAddress = jsonObj.EmailAddress;\r\n        this.phoneNumber = jsonObj.PhoneNumber;\r\n        this.isActive = jsonObj.isActive;\r\n        this.userName = jsonObj.UserName;\r\n        this.jobTitle = jsonObj.JobTitle;\r\n        this.userRole = jsonObj.UserRole;\r\n    }\r\n}\r\n"],"sourceRoot":".."}